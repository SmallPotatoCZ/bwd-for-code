<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link href='/favicon.png' rel='shortcut icon'>
<meta content='' name='app:pageurl'>







<link rel="canonical" href="">
<meta name="og:url" content="">













    <title>EsilyZhang çš„å¤‡å¿˜å•</title>
    
    <link rel="stylesheet" href="/sass/main.min.97ef104245886f62f208a3f927e5b782e9ca7977a33f55b30e5f46e415c7372b.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    

<link rel="stylesheet" href="/sass/markdown.min.fab29f2a847a663f96443fcaa4719dab072d38a345a61cd879a9641226c35a75.css">

</head>

<body>
    <header role="heading">
        <nav class='top-nav' data-js-no-preview role='navigation'>
    <div class='container'>
        
        <div class='left'>
            <a class='back-button icons' href='/'>keyboard_backspace</a>
        </div>
        

        <a class='brand' href='/'>
            EsilyZhang çš„å¤‡å¿˜å•
        </a>
    </div>
</nav>
    </header>
    <main role="main">
        
<div class='site-header' role='banner'>
    <h1>
        ES2015&#43; - å¤‡å¿˜å½•
    </h1>
</div>
<div class="md_content">
    <div id="sheet_box">
    <div id="sheet_column" hidden>2</div>
    

<h2 id="è¯­æ³•">è¯­æ³•</h2>

<h3 id="å—ä½œç”¨åŸŸå£°æ˜">å—ä½œç”¨åŸŸå£°æ˜</h3>

<h4 id="let">let</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">2</span>;
{
  <span style="color:#080;font-weight:bold">let</span> a <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">3</span>;
  console.log(<span style="background-color:#fff0f0">&#34;å—ä½œç”¨åŸŸ&#34;</span>, a);
}
console.log(<span style="background-color:#fff0f0">&#34;å‡½æ•°ä½œç”¨åŸŸ&#34;</span>, a);
</code></pre></div>
<h4 id="const">const</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
  <span style="color:#080;font-weight:bold">const</span> a <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">2</span>;
  console.log(a); <span style="color:#888">// 2
</span><span style="color:#888"></span>  a <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">3</span>; <span style="color:#888">// TypeError
</span><span style="color:#888"></span>}
<span style="color:#888">// å¸¸é‡ä¸æ˜¯å¯¹è¿™ä¸ªå€¼æœ¬èº«çš„é™åˆ¶ï¼Œè€Œæ˜¯å¯¹èµ‹å€¼çš„å“ªä¸ªå˜é‡çš„é™åˆ¶
</span><span style="color:#888"></span>{
  <span style="color:#080;font-weight:bold">const</span> a <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
  a.push(<span style="color:#00d;font-weight:bold">4</span>);
  console.log(a); <span style="color:#888">// [1, 2, 3, 4]
</span><span style="color:#888"></span>
  a <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>; <span style="color:#888">// TypeError
</span><span style="color:#888"></span>}
</code></pre></div>
<h4 id="å—ä½œç”¨åŸŸå‡½æ•°">å—ä½œç”¨åŸŸå‡½æ•°</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
  foo();

  <span style="color:#080;font-weight:bold">function</span> foo(){}
}

foo(); <span style="color:#888">// ReferenceError 
</span></code></pre></div>
<h3 id="spread-rest">spread/rest</h3>

<h4 id="spread">spread</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo(a, b, c){
  console.log(a, b, c);
}

foo(...[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>]);

<span style="color:#080;font-weight:bold">const</span> a <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
<span style="color:#080;font-weight:bold">const</span> b <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, ...a, <span style="color:#00d;font-weight:bold">4</span>];
</code></pre></div>
<h4 id="rest">rest</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo(x, y, ...z){
  console.log(x, y, z);
}

foo(<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>);
</code></pre></div>
<h3 id="é»˜è®¤å‚æ•°å€¼">é»˜è®¤å‚æ•°å€¼</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo(x <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">11</span>, y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">31</span>){
  console.log(x <span style="color:#333">+</span> y);
}
foo()  <span style="color:#888">// 42
</span><span style="color:#888"></span>foo(<span style="color:#00d;font-weight:bold">5</span>, <span style="color:#00d;font-weight:bold">6</span>); <span style="color:#888">// 11
</span><span style="color:#888"></span>foo(<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">42</span>); <span style="color:#888">// 42
</span><span style="color:#888"></span>
foo(<span style="color:#00d;font-weight:bold">5</span>); <span style="color:#888">// 36
</span><span style="color:#888"></span>foo(<span style="color:#00d;font-weight:bold">5</span>, <span style="color:#080;font-weight:bold">undefined</span>); <span style="color:#888">// 36 æŠ›å¼ƒ undefined å€¼
</span><span style="color:#888"></span>foo(<span style="color:#00d;font-weight:bold">5</span>, <span style="color:#080;font-weight:bold">null</span>); <span style="color:#888">// 5 null è¢«å¼ºåˆ¶è½¬æ¢ä¸º 0
</span></code></pre></div>
<h4 id="é»˜è®¤è¡¨è¾¾å¼">é»˜è®¤è¡¨è¾¾å¼</h4>

<p>é»˜è®¤è¡¨è¾¾å¼æ—¶æƒ°æ€§æ±‚å€¼ï¼Œåªåœ¨å…è®¸çš„æ—¶å€™æ±‚å€¼ï¼Œæ˜¯åœ¨å‚æ•°çš„å€¼çœç•¥æˆ–è€…ä¸º undefined çš„æ—¶å€™è°ƒç”¨</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> bar(val){
  console.log(<span style="background-color:#fff0f0">&#34;bar called!&#34;</span>);
  <span style="color:#080;font-weight:bold">return</span> y <span style="color:#333">+</span> val;
}
<span style="color:#080;font-weight:bold">function</span> foo(x <span style="color:#333">=</span> y <span style="color:#333">+</span> <span style="color:#00d;font-weight:bold">3</span>, z <span style="color:#333">=</span> bar(x)){
  console.log(x, z);
}

<span style="color:#080;font-weight:bold">var</span> y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">5</span>;
foo(); <span style="color:#888">// bar called!
</span><span style="color:#888"></span>       <span style="color:#888">// 8 13
</span><span style="color:#888"></span>
foo(<span style="color:#00d;font-weight:bold">10</span>); <span style="color:#888">// bar called!
</span><span style="color:#888"></span>         <span style="color:#888">// 10 15
</span><span style="color:#888"></span>
y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">6</span>;
foo(<span style="color:#080;font-weight:bold">undefined</span>, <span style="color:#00d;font-weight:bold">10</span>); <span style="color:#888">// 9 10
</span></code></pre></div>
<h3 id="è§£æ„">è§£æ„</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo(){
  <span style="color:#080;font-weight:bold">return</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
}
<span style="color:#080;font-weight:bold">function</span> bar(){
  <span style="color:#080;font-weight:bold">return</span> {
    x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">4</span>,
    y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">5</span>,
    z<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">6</span>
  }
}

<span style="color:#080;font-weight:bold">var</span> [a, b, c] <span style="color:#333">=</span> foo();
<span style="color:#080;font-weight:bold">var</span> {x<span style="color:#333">:</span> bam, y<span style="color:#333">:</span> baz, z<span style="color:#333">:</span> bap} <span style="color:#333">=</span> bar(); <span style="color:#888">// var {x, y, z} = bar();
</span><span style="color:#888"></span>
console.log(a, b, c);
console.log(bam, baz, bap);
</code></pre></div>
<h3 id="å¯¹è±¡å­—é¢é‡æ‰©å±•">å¯¹è±¡å­—é¢é‡æ‰©å±•</h3>

<h4 id="ç®€ä»‹å±æ€§">ç®€ä»‹å±æ€§</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">2</span>, y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">3</span>,
  o <span style="color:#333">=</span> {
    x,y
  };
</code></pre></div>
<h4 id="ç®€æ´æ–¹æ³•">ç®€æ´æ–¹æ³•</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o <span style="color:#333">=</span> {
  x(){},
  y(){}
};
</code></pre></div>
<h4 id="è®¡ç®—å±æ€§å">è®¡ç®—å±æ€§å</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> prefix <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;user_&#34;</span>;
<span style="color:#080;font-weight:bold">var</span> o <span style="color:#333">=</span> {
  [ prefix <span style="color:#333">+</span> <span style="background-color:#fff0f0">&#34;foo&#34;</span> ]<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">function</span>(){}
};
</code></pre></div>
<h4 id="è®¾å®š-prototype">è®¾å®š [[Prototype]]</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o1 <span style="color:#333">=</span> {};
<span style="color:#080;font-weight:bold">var</span> o2 <span style="color:#333">=</span> {
  __proto__<span style="color:#333">:</span> o1
};
</code></pre></div>
<h4 id="super">super</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o1 <span style="color:#333">=</span> {
  foo(){
    console.log(<span style="background-color:#fff0f0">&#34;01: foo&#34;</span>);
  }
};

<span style="color:#080;font-weight:bold">var</span> o2 <span style="color:#333">=</span> {
  foo(){
    <span style="color:#080;font-weight:bold">super</span>.foo();
    console.log(<span style="background-color:#fff0f0">&#34;o2: foo&#34;</span>);
  } 
};

<span style="color:#007020">Object</span>.setPrototypeOf(o2, o1);

o2.foo(); <span style="color:#888">// o1: foo
</span><span style="color:#888"></span>          <span style="color:#888">// o2: foo
</span></code></pre></div>
<h3 id="æ¨¡æ¿å­—é¢é‡">æ¨¡æ¿å­—é¢é‡</h3>

<h4 id="æ’å…¥è¡¨è¾¾å¼">æ’å…¥è¡¨è¾¾å¼</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> upper(s){
  <span style="color:#080;font-weight:bold">return</span> s.toUpperCase();
}
<span style="color:#080;font-weight:bold">var</span> who <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;render&#34;</span>;
<span style="color:#080;font-weight:bold">var</span> text <span style="color:#333">=</span> <span style="background-color:#fff0f0">`A very </span><span style="background-color:#eee">${</span>upper(<span style="background-color:#fff0f0">&#34;warm&#34;</span>)<span style="background-color:#eee">}</span><span style="background-color:#fff0f0"> welcome
</span><span style="background-color:#fff0f0">to all of you </span><span style="background-color:#eee">${</span>upper(<span style="background-color:#fff0f0">`</span><span style="background-color:#eee">${</span>who<span style="background-color:#eee">}</span><span style="background-color:#fff0f0">s`</span>)<span style="background-color:#eee">}</span><span style="background-color:#fff0f0">`</span>;
console.log(text);
</code></pre></div>
<h4 id="æ ‡ç­¾æ¨¡æ¿å­—é¢é‡">æ ‡ç­¾æ¨¡æ¿å­—é¢é‡</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo(strings, ...values){
  console.log(strings);
  console.log(values);
}

<span style="color:#080;font-weight:bold">var</span> desc <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;awesome&#34;</span>;
foo<span style="background-color:#fff0f0">`Everthing is </span><span style="background-color:#eee">${</span>desc<span style="background-color:#eee">}</span><span style="background-color:#fff0f0">!`</span>;
<span style="color:#888">// [ &#34;Everthing is &#34;, &#34;!&#34;]
</span><span style="color:#888">// [&#34;awesome&#34;]
</span></code></pre></div>
<h3 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> f1 <span style="color:#333">=</span> () =&gt; <span style="color:#00d;font-weight:bold">12</span>;
<span style="color:#080;font-weight:bold">var</span> f2 <span style="color:#333">=</span> x =&gt; x <span style="color:#333">*</span> <span style="color:#00d;font-weight:bold">2</span>;
<span style="color:#080;font-weight:bold">var</span> f3 <span style="color:#333">=</span> (x,y) =&gt; {};
</code></pre></div>
<p>é€‚ç”¨æ—¶æœºï¼š</p>

<ul>
<li>ç®€çŸ­çš„å•å¥è¡¨è¾¾å¼ï¼Œå”¯ä¸€è¯­å¥æ˜¯<code>return</code>æŸä¸ªå€¼ï¼Œæ²¡æœ‰<code>this</code>å¼•ç”¨ï¼Œæ²¡æœ‰è‡ªèº«å¼•ç”¨ï¼ˆé€’å½’ã€äº‹ä»¶ç»‘å®š/è§£ç»‘å®šï¼‰</li>
<li>å†…å±‚å‡½æ•°è¡¨è¾¾å¼ï¼Œä¾èµ–äºåœ¨åŒ…å«å®ƒçš„å‡½æ•°ä¸­è°ƒç”¨<code>var self = this</code>æˆ–è€…<code>.bind(this)</code>æ¥ç¡®ä¿<code>this</code>ç»‘å®š</li>
<li>å¦‚æœå†…å±‚å‡½æ•°è¡¨è¾¾å¼ä¾èµ–äºå°è£…å‡½æ•°ä¸­æŸç§åƒ<code>var args = Array.prototype.slice.call(arguments)</code>æ¥ä¿è¯<code>argumetns</code>çš„è¯æ³•å¤åˆ¶</li>
</ul>

<h3 id="for-of-å¾ªç¯">for..of å¾ªç¯</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> [<span style="background-color:#fff0f0">&#34;a&#34;</span>, <span style="background-color:#fff0f0">&#34;b&#34;</span>, <span style="background-color:#fff0f0">&#34;c&#34;</span>, <span style="background-color:#fff0f0">&#34;d&#34;</span>];
<span style="color:#080;font-weight:bold">for</span>(<span style="color:#080;font-weight:bold">var</span> val <span style="color:#080;font-weight:bold">of</span> a ){
  console.log(val);
}
</code></pre></div>
<p>é»˜è®¤ä¸º iterable çš„æ ‡å‡†å†…å»ºå€¼åŒ…æ‹¬ï¼š</p>

<ul>
<li>Arrays</li>
<li>Strings</li>
<li>Generator</li>
<li>Collections/TypeArrays
<br /></li>
</ul>

<h3 id="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</h3>

<h4 id="unicode-æ ‡è¯†">Unicode æ ‡è¯†</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#333">/^</span>.<span style="color:#333">-</span>clef<span style="color:#333">/</span>.test(<span style="background-color:#fff0f0">&#34;ğ„d-clef&#34;</span>)<span style="color:#f00;background-color:#faa">ï¼›</span> <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#333">/^</span>.<span style="color:#333">-</span>clef<span style="color:#333">/</span>u.test(<span style="background-color:#fff0f0">&#34;ğ„d-clef&#34;</span>); <span style="color:#888">// true
</span></code></pre></div>
<h4 id="å®šç‚¹æ ‡è¯†">å®šç‚¹æ ‡è¯†</h4>

<p>è™šæ‹Ÿé”šç‚¹</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> regx <span style="color:#333">=</span> <span style="color:#000;background-color:#fff0ff">/foo/y</span>,
  str <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;++foo++++&#34;</span>;

regx.lastIndex; <span style="color:#888">// 0
</span><span style="color:#888"></span>regx.test(str); <span style="color:#888">// false
</span><span style="color:#888"></span>regx.lastIndex; <span style="color:#888">// 0
</span><span style="color:#888"></span>
regx.lastIndex <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">2</span>;
regx.test(str); <span style="color:#888">// true
</span><span style="color:#888"></span>regx.lastIndex; <span style="color:#888">// 5
</span><span style="color:#888"></span>
regx.test(str); <span style="color:#888">// false
</span><span style="color:#888"></span>regx.lastIndex; <span style="color:#888">// 0 åŒ¹é…å¤±è´¥åï¼Œé‡ç½®
</span></code></pre></div>
<h4 id="è·å–-flags">è·å– flags</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> regx <span style="color:#333">=</span> <span style="color:#000;background-color:#fff0ff">/foo/ig</span>;
regx.flags; <span style="color:#888">// &#34;gi&#34;
</span><span style="color:#888"></span>regx.source; <span style="color:#888">// foo
</span></code></pre></div>
<h3 id="æ•°å­—å­—é¢é‡æ‰©å±•">æ•°å­—å­—é¢é‡æ‰©å±•</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> dec <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>,
  oct <span style="color:#333">=</span> <span style="color:#40e;font-weight:bold">0o52</span>,
  hex <span style="color:#333">=</span> <span style="color:#058;font-weight:bold">0x2a</span>,
  bin <span style="color:#333">=</span> <span style="color:#60e;font-weight:bold">0b101010</span>;
</code></pre></div>
<h3 id="unicode">Unicode</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> gclef <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;\u{1D11E}&#34;</span>;
console.log(gclef); <span style="color:#888">// ğ„
</span></code></pre></div>
<h4 id="å­—ç¬¦ä¸²çš„è¿ç®—">å­—ç¬¦ä¸²çš„è¿ç®—</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> gclef <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;ğ„&#34;</span>;
gclef.length; <span style="color:#888">// 2
</span><span style="color:#888"></span>
[...gclef].length; <span style="color:#888">// 1
</span><span style="color:#888"></span><span style="color:#007020">Array</span>.from(gclef).length; <span style="color:#888">// 1
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> s1 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;\xE9&#34;</span>,
  s2 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;e\u0301&#34;</span>;
console.log(s1, s2);

s1.normalize().length; <span style="color:#888">// 1
</span><span style="color:#888"></span>s2.normaloze().length; <span style="color:#888">// 1
</span><span style="color:#888"></span>
s1 <span style="color:#333">===</span> s2; <span style="color:#888">// false
</span><span style="color:#888"></span>s1 <span style="color:#333">===</span> s2.normaloze(); <span style="color:#888">// true
</span></code></pre></div>
<h4 id="å­—ç¬¦å®šä½">å­—ç¬¦å®šä½</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> s1 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;abc\u0301d&#34;</span>,
  s2 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;ab\u0107d&#34;</span>,
  s3 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;db\u[1d49e]d&#34;</span>;

console.log(s1); <span style="color:#888">// &#39;abcÌd&#39;
</span><span style="color:#888"></span>console.log(s2); <span style="color:#888">// &#39;abÄ‡d&#39;
</span><span style="color:#888"></span>console.log(s3); <span style="color:#888">// &#39;dbğ’d&#39;
</span><span style="color:#888"></span>
s1.charAt(<span style="color:#00d;font-weight:bold">2</span>); <span style="color:#888">// &#39;c&#39;
</span><span style="color:#888"></span>s2.charAt(<span style="color:#00d;font-weight:bold">2</span>); <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span>s3.charAt(<span style="color:#00d;font-weight:bold">2</span>); <span style="color:#888">// &#39;ï¿½ï¿½ï¿½&#39;
</span><span style="color:#888"></span>s3.charAt(<span style="color:#00d;font-weight:bold">3</span>); <span style="color:#888">// &#39;ï¿½ï¿½ï¿½&#39;
</span><span style="color:#888"></span>
[...s1.normalize()][<span style="color:#00d;font-weight:bold">2</span>]; <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span>[...s2.normalize()][<span style="color:#00d;font-weight:bold">2</span>]; <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span>[...s3.normalize()][<span style="color:#00d;font-weight:bold">2</span>]; <span style="color:#888">// &#39;ğ’&#39;
</span><span style="color:#888"></span>
s1.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>).toString(<span style="color:#00d;font-weight:bold">16</span>); <span style="color:#888">// &#39;107&#39;
</span><span style="color:#888"></span>s2.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>).toString(<span style="color:#00d;font-weight:bold">16</span>); <span style="color:#888">// &#39;107&#39;
</span><span style="color:#888"></span>s3.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>).toString(<span style="color:#00d;font-weight:bold">16</span>); <span style="color:#888">// 1d49e
</span><span style="color:#888"></span>
<span style="color:#007020">String</span>.fromCodePonit(<span style="color:#058;font-weight:bold">0x107</span>); <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span><span style="color:#007020">String</span>.fromCodePonit(<span style="color:#058;font-weight:bold">0x1d49e</span>); <span style="color:#888">// &#39;ğ’&#39;
</span><span style="color:#888"></span>
<span style="color:#888">// ç»„åˆ
</span><span style="color:#888"></span><span style="color:#007020">String</span>.fromCodePoint(s1.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>)); <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span><span style="color:#007020">String</span>.fromCodePoint(s2.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>)); <span style="color:#888">// &#39;Ä‡&#39;
</span><span style="color:#888"></span><span style="color:#007020">String</span>.fromCodePoint(s3.normalize().codePointAt(<span style="color:#00d;font-weight:bold">2</span>)); <span style="color:#888">// &#39;ğ’&#39;
</span></code></pre></div>
<h4 id="æ ‡è¯†ç¬¦å·">æ ‡è¯†ç¬¦å·</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> <span style="color:#f00;background-color:#faa">\</span>u{<span style="color:#00d;font-weight:bold">2</span>B400} <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>; <span style="color:#888">// var ğ«€ = 42;
</span></code></pre></div>
<h3 id="ç¬¦å·">ç¬¦å·</h3>

<p>symbol ç±»å‹æ²¡æœ‰å­—é¢é‡å½¢å¼</p>

<p>æœ‰å‡ ç‚¹å€¼å¾—æ³¨æ„ï¼š</p>

<ul>
<li>ä¸èƒ½ä¹Ÿä¸åº”å¯¹<code>Symbol()</code>ä½¿ç”¨<code>new</code>ã€‚</li>
<li>ä¼ ç»™<code>Symbol()</code>çš„å‚æ•°æ˜¯å¯é€‰çš„ã€‚ä¼ å…¥çš„å€¼æ˜¯ä¸ºè¿™ä¸ª symbol çš„ç”¨é€”ç»™å‡ºç”¨æˆ·å‹å¥½çš„æè¿°çš„å­—ç¬¦ä¸²ã€‚</li>
<li><code>typeof</code>çš„è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„å€¼â€œstmbolâ€ï¼Œè¿™æ˜¯å¤±è´¥ symbol çš„é¦–é€‰æ–¹æ³•ã€‚</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> sym <span style="color:#333">=</span> Symbol(<span style="background-color:#fff0f0">&#34;some optional description&#34;</span>);
<span style="color:#080;font-weight:bold">typeof</span> sym; <span style="color:#888">// &#34;symbol&#34;
</span><span style="color:#888"></span>
sym.toString(); <span style="color:#888">// &#34;some optional description&#34;
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">const</span> INSTANCE <span style="color:#333">=</span> Symbol(<span style="background-color:#fff0f0">&#34;instance&#34;</span>);
<span style="color:#080;font-weight:bold">function</span> HappyFace(){
  <span style="color:#080;font-weight:bold">if</span>(HappyFace[INSTANCE]) <span style="color:#080;font-weight:bold">return</span> HappyFace[INSTANCE];
  <span style="color:#080;font-weight:bold">function</span> smile(){}
  <span style="color:#080;font-weight:bold">return</span> HappyFace[INSTANCE] <span style="color:#333">=</span> {
    smile<span style="color:#333">:</span> smile
  };
}
<span style="color:#080;font-weight:bold">var</span> ne <span style="color:#333">=</span> HappyFace(),
  you <span style="color:#333">=</span> HappyFace();

  me <span style="color:#333">===</span> you; <span style="color:#888">//true
</span></code></pre></div>
<h4 id="ç¬¦å·æ³¨å†Œ">ç¬¦å·æ³¨å†Œ</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">const</span> EVT_LOGIN <span style="color:#333">=</span> Symbol(<span style="background-color:#fff0f0">&#34;event.login&#34;</span>);
console.log(Symbol.<span style="color:#080;font-weight:bold">for</span>(<span style="background-color:#fff0f0">&#34;event.login&#34;</span>));
</code></pre></div>
<h3 id="ä½œä¸ºå¯¹è±¡çš„ç¬¦å·å±æ€§">ä½œä¸ºå¯¹è±¡çš„ç¬¦å·å±æ€§</h3>

<p>è§„èŒƒä½¿ç”¨ <code>@@</code> å‰ç¼€æ¥æŒ‡ä»£å†…ç½®ç¬¦å·ï¼Œæœ€å¸¸è§çš„ <code>@@iterator</code>ã€<code>@@toString</code>ã€<code>@@toPrimitive</code>ã€‚</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o <span style="color:#333">=</span> {
  foo<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">42</span>,
  [Symbol(<span style="background-color:#fff0f0">&#34;bar&#34;</span>)]<span style="color:#333">:</span> <span style="background-color:#fff0f0">&#34;hello world&#34;</span>,
  baz<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>
};

<span style="color:#007020">Object</span>.getOwnPropertyNames(o); <span style="color:#888">// [&#34;foo&#34;, &#34;baz&#34;]
</span><span style="color:#888"></span><span style="color:#007020">Object</span>.getOwnPropertySymbols(o); <span style="color:#888">// [ Symbol(bar) ]
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
a[Symbol.iterator]; <span style="color:#888">// [Function: values]
</span></code></pre></div>
<h2 id="ä»£ç ç»„ç»‡">ä»£ç ç»„ç»‡</h2>

<h3 id="è¿­ä»£å™¨-iterator">è¿­ä»£å™¨ï¼ˆiteratorï¼‰</h3>

<h4 id="next-è¿­ä»£">next() è¿­ä»£</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> arr <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
<span style="color:#080;font-weight:bold">var</span> arrIterator <span style="color:#333">=</span> arr[Symbol.iterator]();

arrIterator.next(); <span style="color:#888">// {value: 1, done: false}
</span><span style="color:#888"></span>arrIterator.next(); <span style="color:#888">// {value: 2, done: false}
</span><span style="color:#888"></span>arrIterator.next(); <span style="color:#888">// {value: 3, done: false}
</span><span style="color:#888"></span>arrIterator.next(); <span style="color:#888">// {value: undefined, done: true}
</span></code></pre></div>
<h4 id="è‡ªå®šä¹‰è¿­ä»£å™¨">è‡ªå®šä¹‰è¿­ä»£å™¨</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#888">// æ–æ³¢é‚£å¥‘åˆ—è¿­ä»£å™¨
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> Fib <span style="color:#333">=</span> {
  [Symbol.iterator](){
    <span style="color:#080;font-weight:bold">var</span> n1 <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">1</span>, n2 <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">1</span>;

    <span style="color:#080;font-weight:bold">return</span> {
      [Symbol.iterator](){<span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>},
      next(){
        <span style="color:#080;font-weight:bold">var</span> current <span style="color:#333">=</span> n2;
        n2 <span style="color:#333">=</span> n1;
        n1 <span style="color:#333">=</span> n1 <span style="color:#333">+</span> current;
        <span style="color:#080;font-weight:bold">return</span> {value<span style="color:#333">:</span>current,done<span style="color:#333">:</span><span style="color:#080;font-weight:bold">false</span>};
      },
      <span style="color:#080;font-weight:bold">return</span>(v){
        console.log(<span style="background-color:#fff0f0">&#34;Fibonatic sequence abandoned.&#34;</span>);
        <span style="color:#080;font-weight:bold">return</span> {value<span style="color:#333">:</span>v,done<span style="color:#333">:</span><span style="color:#080;font-weight:bold">true</span>}
      }
    }
  }
};

<span style="color:#080;font-weight:bold">for</span>(<span style="color:#080;font-weight:bold">var</span> v <span style="color:#080;font-weight:bold">of</span> Fib){
  console.log(v);
  <span style="color:#080;font-weight:bold">if</span>(v <span style="color:#333">&gt;</span> <span style="color:#00d;font-weight:bold">50</span>) <span style="color:#080;font-weight:bold">break</span>;
}

<span style="color:#888">// ä»»åŠ¡é˜Ÿåˆ—è¿­ä»£å™¨
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> tasks <span style="color:#333">=</span> {
  [Symbol.iterator](){
    <span style="color:#080;font-weight:bold">var</span> steps <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">this</span>.actions.slice();
    <span style="color:#080;font-weight:bold">return</span> {
      [Symbol.iterator](){<span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>},
      next(...args){
        <span style="color:#080;font-weight:bold">if</span>(steps.length <span style="color:#333">&gt;</span> <span style="color:#00d;font-weight:bold">0</span>){
          <span style="color:#080;font-weight:bold">let</span> res <span style="color:#333">=</span> steps.shift()(...args);
          <span style="color:#080;font-weight:bold">return</span> {value<span style="color:#333">:</span>res,done<span style="color:#333">:</span><span style="color:#080;font-weight:bold">false</span>};
        }
        <span style="color:#080;font-weight:bold">else</span>{
          <span style="color:#080;font-weight:bold">return</span> {done<span style="color:#333">:</span><span style="color:#080;font-weight:bold">true</span>};
        }
      },
      <span style="color:#080;font-weight:bold">return</span>(v){
        steps.length <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">0</span>;
        <span style="color:#080;font-weight:bold">return</span> {value<span style="color:#333">:</span>v, done<span style="color:#333">:</span><span style="color:#080;font-weight:bold">true</span>};
      }
    };
  },
  actions<span style="color:#333">:</span> []
};

tasks.actions.push(
  <span style="color:#080;font-weight:bold">function</span> step1(x){
    console.log(<span style="background-color:#fff0f0">&#34;step 1&#34;</span>, x);
    <span style="color:#080;font-weight:bold">return</span> x <span style="color:#333">*</span> <span style="color:#00d;font-weight:bold">2</span>;
  },
  <span style="color:#080;font-weight:bold">function</span> step2(x, y){
    console.log(<span style="background-color:#fff0f0">&#34;step 2&#34;</span>, x, y);
    <span style="color:#080;font-weight:bold">return</span> x  <span style="color:#333">+</span> (y <span style="color:#333">*</span> <span style="color:#00d;font-weight:bold">2</span>);
  },
  <span style="color:#080;font-weight:bold">function</span> step3(x, y, z){
    console.log(<span style="background-color:#fff0f0">&#34;step 3&#34;</span>, x, y, z);
    <span style="color:#080;font-weight:bold">return</span> (x <span style="color:#333">*</span> y) <span style="color:#333">+</span> <span style="color:#00d;font-weight:bold">2</span>;
  }
);

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> tasks[Symbol.iterator]();

it.next(<span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// &#39;step 1&#39; 1
</span><span style="color:#888"></span>            <span style="color:#888">// { value: 2, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>); <span style="color:#888">// &#39;step 2&#39; 2 3
</span><span style="color:#888"></span>              <span style="color:#888">// { value: 8, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>); <span style="color:#888">// &#39;step 3&#39; 3 4 5
</span><span style="color:#888"></span>                  <span style="color:#888">//  { value: 14, done: false } 
</span><span style="color:#888"></span>it.next(); <span style="color:#888">// { done: true }
</span><span style="color:#888"></span>
<span style="color:#888">// æ•°å­—è¿­ä»£å™¨
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">if</span>(<span style="color:#333">!</span><span style="color:#007020">Number</span>.prototype[Symbol.iterator]){
  <span style="color:#007020">Object</span>.defineProperty(
    <span style="color:#007020">Number</span>.prototype,
    Symbol.iterator,
    {
      writable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>,
      configurable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>,
      emumerable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>,
      value<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">function</span>(){
        <span style="color:#080;font-weight:bold">var</span> i, inc, done <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">false</span>, top <span style="color:#333">=</span> <span style="color:#333">+</span><span style="color:#080;font-weight:bold">this</span>;
        
        inc <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">1</span> <span style="color:#333">*</span> (top <span style="color:#333">&lt;</span> <span style="color:#00d;font-weight:bold">0</span> <span style="color:#333">?</span> <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">1</span><span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>);
        <span style="color:#080;font-weight:bold">return</span> {
          [Symbol.iterable](){<span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>;},
          next(){
            <span style="color:#080;font-weight:bold">if</span>(<span style="color:#333">!</span>done){
              <span style="color:#080;font-weight:bold">if</span>(i<span style="color:#333">==</span><span style="color:#080;font-weight:bold">null</span>){
                i <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">0</span>;
              }
              <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span>(top <span style="color:#333">&gt;=</span> <span style="color:#00d;font-weight:bold">0</span>){
                i <span style="color:#333">=</span> <span style="color:#007020">Math</span>.min(top, i <span style="color:#333">+</span> inc);
              }
              <span style="color:#080;font-weight:bold">else</span>{
                i <span style="color:#333">=</span> <span style="color:#007020">Math</span>.max(top, i <span style="color:#333">+</span> inc);
              }
              <span style="color:#080;font-weight:bold">if</span>(i <span style="color:#333">==</span> top) done <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">true</span>;
              <span style="color:#080;font-weight:bold">return</span> {value<span style="color:#333">:</span> i, done<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>};
            }
            <span style="color:#080;font-weight:bold">else</span>{
              <span style="color:#080;font-weight:bold">return</span> {done<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>};
            }
          }
        };
      }
    }
  )
}

<span style="color:#080;font-weight:bold">for</span> (<span style="color:#080;font-weight:bold">var</span> i <span style="color:#080;font-weight:bold">of</span> <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">6</span>){
  console.log(i)
}
</code></pre></div>
<h3 id="ç”Ÿæˆå™¨">ç”Ÿæˆå™¨</h3>

<h4 id="è¯­æ³•-1">è¯­æ³•</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  console.log(<span style="background-color:#fff0f0">&#34;Generator&#34;</span>);
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();
it.next();

<span style="color:#888">// yield
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  <span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">10</span>;
  <span style="color:#080;font-weight:bold">var</span> y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">20</span>;
  <span style="color:#080;font-weight:bold">yield</span>;

  <span style="color:#080;font-weight:bold">var</span> z <span style="color:#333">=</span> x <span style="color:#333">+</span> y;
}

<span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  <span style="color:#080;font-weight:bold">var</span> arr <span style="color:#333">=</span> [<span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">1</span>, <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">3</span>];
  console.log(arr, <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">4</span>);
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();
it.next(<span style="color:#00d;font-weight:bold">5</span>); <span style="color:#888">// { value: 1, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">6</span>); <span style="color:#888">// { value: 2, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">7</span>); <span style="color:#888">// { value: 3, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">8</span>); <span style="color:#888">// { value: 4, done: false }
</span><span style="color:#888"></span>it.next(<span style="color:#00d;font-weight:bold">9</span>); <span style="color:#888">// [ 6, 7, 8 ] 9
</span><span style="color:#888"></span>            <span style="color:#888">// { value: undefined, done: true }
</span></code></pre></div>
<h4 id="è¿­ä»£å™¨æ§åˆ¶">è¿­ä»£å™¨æ§åˆ¶</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(x){
  <span style="color:#080;font-weight:bold">if</span>(x <span style="color:#333">&lt;</span> <span style="color:#00d;font-weight:bold">3</span>){
    x <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">yield</span> <span style="color:#333">*</span>foo(x <span style="color:#333">+</span> <span style="color:#00d;font-weight:bold">1</span>);
  }
  <span style="color:#080;font-weight:bold">return</span> x <span style="color:#333">+</span> <span style="color:#00d;font-weight:bold">2</span>;
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo(<span style="color:#00d;font-weight:bold">1</span>);
it.next(); <span style="color:#888">// { value: 24, done: true }
</span></code></pre></div>
<h4 id="æå‰å®Œæˆ">æå‰å®Œæˆ</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">1</span>;
  <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">2</span>;
  <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">3</span>;
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();
it.next(); <span style="color:#888">// { value: 1, done: false }
</span><span style="color:#888"></span>it.<span style="color:#080;font-weight:bold">return</span>(); <span style="color:#888">// { value: undefined, done: true }
</span><span style="color:#888"></span>it.next(); <span style="color:#888">// { value: undefined, done: true }
</span><span style="color:#888"></span>
<span style="color:#888">// finally
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  <span style="color:#080;font-weight:bold">try</span>{
      <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">1</span>;
      <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">2</span>;
      <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">3</span>;
  }
  <span style="color:#080;font-weight:bold">finally</span>{
    console.log(<span style="background-color:#fff0f0">&#34;cleanup&#34;</span>);
  }
}

<span style="color:#080;font-weight:bold">for</span>(<span style="color:#080;font-weight:bold">var</span> v <span style="color:#080;font-weight:bold">of</span> foo()){
  console.log(v);
}
<span style="color:#888">// 1 2 3
</span><span style="color:#888">// &#39;cleanup&#39;
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();
it.next(); <span style="color:#888">// { value: 1, done: false }
</span><span style="color:#888"></span>it.<span style="color:#080;font-weight:bold">return</span>(); <span style="color:#888">// &#39;cleanup&#39;
</span><span style="color:#888"></span>             <span style="color:#888">// { value: undefined, done: true }
</span><span style="color:#888"></span>it.next(); <span style="color:#888">// { value: undefined, done: true }
</span></code></pre></div>
<h4 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> <span style="color:#333">*</span>foo(){
  <span style="color:#080;font-weight:bold">try</span>{
    <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">1</span>;
  }
  <span style="color:#080;font-weight:bold">catch</span>(err){
    console.log(err);
  }
  <span style="color:#080;font-weight:bold">yield</span> <span style="color:#00d;font-weight:bold">2</span>;
  
  <span style="color:#080;font-weight:bold">throw</span> <span style="background-color:#fff0f0">&#34;Hello&#34;</span>;
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();
it.next();
<span style="color:#080;font-weight:bold">try</span>{
  it.<span style="color:#080;font-weight:bold">throw</span>(<span style="background-color:#fff0f0">&#34;HL!&#34;</span>);
  it.next();
  console.log(<span style="background-color:#fff0f0">&#34;never gets here&#34;</span>);
}<span style="color:#080;font-weight:bold">catch</span>(err){
  console.log(err);
}
</code></pre></div>
<h4 id="è‡ªåˆ¶ç”Ÿæˆå™¨">è‡ªåˆ¶ç”Ÿæˆå™¨</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">function</span> foo() {
	<span style="color:#080;font-weight:bold">function</span> nextState(v) {
		<span style="color:#080;font-weight:bold">switch</span> (state) {
			<span style="color:#080;font-weight:bold">case</span> <span style="color:#00d;font-weight:bold">0</span><span style="color:#333">:</span>
				state<span style="color:#333">++</span>;

				<span style="color:#888">// the `yield` expression
</span><span style="color:#888"></span>				<span style="color:#080;font-weight:bold">return</span> <span style="color:#00d;font-weight:bold">42</span>;
			<span style="color:#080;font-weight:bold">case</span> <span style="color:#00d;font-weight:bold">1</span><span style="color:#333">:</span>
				state<span style="color:#333">++</span>;

				<span style="color:#888">// `yield` expression fulfilled
</span><span style="color:#888"></span>				x <span style="color:#333">=</span> v;
				console.log( x );

				<span style="color:#888">// the implicit `return`
</span><span style="color:#888"></span>				<span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">undefined</span>;

			<span style="color:#888">// no need to handle state `2`
</span><span style="color:#888"></span>		}
	}

	<span style="color:#080;font-weight:bold">var</span> state <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">0</span>, x;

	<span style="color:#080;font-weight:bold">return</span> {
		next<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">function</span>(v) {
			<span style="color:#080;font-weight:bold">var</span> ret <span style="color:#333">=</span> nextState( v );

			<span style="color:#080;font-weight:bold">return</span> { value<span style="color:#333">:</span> ret, done<span style="color:#333">:</span> (state <span style="color:#333">==</span> <span style="color:#00d;font-weight:bold">2</span>) };
		}

		<span style="color:#888">// we&#39;ll skip `return(..)` and `throw(..)`
</span><span style="color:#888"></span>	};
}

<span style="color:#080;font-weight:bold">var</span> it <span style="color:#333">=</span> foo();

it.next();				<span style="color:#888">// { value: 42, done: false }
</span><span style="color:#888"></span>
it.next( <span style="color:#00d;font-weight:bold">10</span> );	<span style="color:#888">// 10
</span><span style="color:#888"></span>                <span style="color:#888">// { value: undefined, done: true }
</span></code></pre></div>
<h3 id="æ¨¡å—">æ¨¡å—</h3>

<h4 id="å¯¼å‡º-api-æˆå‘˜">å¯¼å‡º API æˆå‘˜</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#888">// æ¨¡å—å†…éƒ¨æ²¡æœ‰å…¨å±€ä½œç”¨åŸŸ
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">function</span> foo() {
    console.log(<span style="background-color:#fff0f0">&#34;function foo&#34;</span>);
}

<span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">var</span> awesome <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>;

<span style="color:#080;font-weight:bold">var</span> bar <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
<span style="color:#080;font-weight:bold">export</span> {
    bar
};

<span style="color:#888">// é™é»˜å¯¼å‡º
</span><span style="color:#888">// å¯¼å‡ºçš„æ˜¯å‡½æ•°è¡¨è¾¾å¼çš„ç»‘å®šï¼Œè€Œä¸æ˜¯æ ‡è¯†ç¬¦ foo
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">function</span> foo(){
  console.log(<span style="background-color:#fff0f0">&#34;foo&#34;</span>);
}
<span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">default</span> foo;
<span style="color:#888">// å¯¼å‡ºç»‘å®šåˆ° foo æ ‡è¯†ç¬¦è€Œä¸æ˜¯å®ƒçš„å€¼
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">function</span> foo(){
  console.log(<span style="background-color:#fff0f0">&#34;foo&#34;</span>);
}
<span style="color:#080;font-weight:bold">export</span> {foo as <span style="color:#080;font-weight:bold">default</span>};
</code></pre></div>
<h4 id="å¯¼å…¥-api">å¯¼å…¥ API</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">import</span> {
    foo,
    awesome,
    bar,
    renamefoo as foo2
} from <span style="background-color:#fff0f0">&#34;./module1.js&#34;</span>;

<span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">default</span> <span style="color:#080;font-weight:bold">function</span> foo(){}
<span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">function</span> bar(){}
<span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">function</span> baz(){}

<span style="color:#080;font-weight:bold">import</span> foofn,<span style="color:#333">*</span> as hello from <span style="background-color:#fff0f0">&#34;world&#34;</span>;
foofn();
hello.<span style="color:#080;font-weight:bold">default</span>();
hello.bar();
hello.baz();
</code></pre></div>
<h3 id="ç±»-class">ç±»ï¼ˆClassï¼‰</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">class</span> Foo{
  constructor(a, b){
    <span style="color:#080;font-weight:bold">this</span>.x <span style="color:#333">=</span> a;
    <span style="color:#080;font-weight:bold">this</span>.y <span style="color:#333">=</span> b;
  }
  gimmeXY(){
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>.x <span style="color:#333">+</span> <span style="color:#080;font-weight:bold">this</span>.y;
  }
}
</code></pre></div>
<p>æ³¨æ„ï¼š</p>

<ul>
<li>class Foo çš„ <code>Foo.call(obj)</code> ä¸èƒ½å·¥ä½œï¼Œå¿…é¡»é€šè¿‡<code>new</code>æ–¹æ³•ä½¿ç”¨</li>
<li>class Foo ä¸ä¼šæå‡</li>
<li>class Foo æ˜¯ä½œç”¨åŸŸçš„è¯æ³•æ ‡è¯†ç¬¦ï¼Œè€Œ function Foo ä¼šåˆ›å»ºä¸€ä¸ªåŒåçš„å…¨å±€å¯¹è±¡å±æ€§</li>
</ul>

<h4 id="extends-å’Œ-super">extends å’Œ super</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">class</span> Foo{
  constructor(a, b){
    <span style="color:#080;font-weight:bold">this</span>.x <span style="color:#333">=</span> a;
    <span style="color:#080;font-weight:bold">this</span>.y <span style="color:#333">=</span> b;
  }
  gimmeXY(){
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>.x <span style="color:#333">+</span> <span style="color:#080;font-weight:bold">this</span>.y;
  }
}

<span style="color:#080;font-weight:bold">class</span> Bar <span style="color:#080;font-weight:bold">extends</span> Foo{
  constructor(a, b, c){
    <span style="color:#080;font-weight:bold">super</span>(a, b);
    <span style="color:#080;font-weight:bold">this</span>.z <span style="color:#333">=</span> c;
  }
  
  gimmeXYZ(){
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">super</span>.gimmeXY() <span style="color:#333">*</span> <span style="color:#080;font-weight:bold">this</span>.z;
  }
}

<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Bar(<span style="color:#00d;font-weight:bold">5</span>, <span style="color:#00d;font-weight:bold">15</span>, <span style="color:#00d;font-weight:bold">25</span>);
b.x;
b.y;
b.z;
b.gimmeXYZ();
</code></pre></div>
<h4 id="new-target">new.target</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">class</span> Foo{
  constructor(){
    console.log(<span style="background-color:#fff0f0">&#34;FOO: &#34;</span>, <span style="color:#080;font-weight:bold">new</span>.target.name);
  }
}

<span style="color:#080;font-weight:bold">class</span> Bar <span style="color:#080;font-weight:bold">extends</span> Foo{
  constructor(){
    <span style="color:#080;font-weight:bold">super</span>();
    console.log(<span style="background-color:#fff0f0">&#34;Bar: &#34;</span>, <span style="color:#080;font-weight:bold">new</span>.target.name);
  }
  
  baz(){
    console.log(<span style="background-color:#fff0f0">&#34;Bar baz: &#34;</span>, <span style="color:#080;font-weight:bold">new</span>.target);
  }
}

<span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Foo();

<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Bar();

b.baz();
</code></pre></div>
<h4 id="static">static</h4>

<p>ä¹‹é—´æ·»åŠ åˆ°è¿™ä¸ªç±»å¯¹è±¡çš„å±æ€§ä¸Š</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">class</span> Foo{
  <span style="color:#080;font-weight:bold">static</span> cool(){console.log(<span style="background-color:#fff0f0">&#34;cool&#34;</span>)}
  wow(){
    console.log(<span style="background-color:#fff0f0">&#34;wow&#34;</span>);
  }
}

<span style="color:#080;font-weight:bold">class</span> Bar <span style="color:#080;font-weight:bold">extends</span> Foo{
  <span style="color:#080;font-weight:bold">static</span> awesome(){
    <span style="color:#080;font-weight:bold">super</span>.cool();
    console.log(<span style="background-color:#fff0f0">&#34;awesome&#34;</span>);
  }
  neat(){
    <span style="color:#080;font-weight:bold">super</span>.wow();
    console.log(<span style="background-color:#fff0f0">&#34;neat&#34;</span>);
  }
}

Foo.cool(); <span style="color:#888">// &#39;cool&#39;
</span><span style="color:#888"></span>
Bar.cool(); <span style="color:#888">// &#39;cool&#39;
</span><span style="color:#888"></span>Bar.awesome(); <span style="color:#888">// &#39;cool&#39;
</span><span style="color:#888"></span>               <span style="color:#888">// &#39;awesome&#39;
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Bar();
b.neat(); <span style="color:#888">// &#39;wow&#39;
</span><span style="color:#888"></span>          <span style="color:#888">// &#39;neat&#39;
</span><span style="color:#888"></span>
b.awesome; <span style="color:#888">// undefined
</span><span style="color:#888"></span>b.cool; <span style="color:#888">// undefined
</span><span style="color:#888"></span>
<span style="color:#888">// æ´¾ç”Ÿå­ç±»ï¼Œä½†æ˜¯ä¸æƒ³ç”¨ä½¿ç”¨å­ç±»çš„æ„é€ å™¨æœ¬èº«
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">class</span> MyCoolArray <span style="color:#080;font-weight:bold">extends</span> <span style="color:#007020">Array</span>{
  <span style="color:#080;font-weight:bold">static</span> get [Symbol.species]() {
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#007020">Array</span>;
  }
}

<span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> MyCoolArray(<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>),
     b <span style="color:#333">=</span> a.map(<span style="color:#080;font-weight:bold">function</span>(v){<span style="color:#080;font-weight:bold">return</span> v <span style="color:#333">*</span> <span style="color:#00d;font-weight:bold">2</span>});

(b <span style="color:#080;font-weight:bold">instanceof</span> MyCoolArray); <span style="color:#888">// false
</span><span style="color:#888"></span>(b <span style="color:#080;font-weight:bold">instanceof</span> <span style="color:#007020">Array</span>); <span style="color:#888">// true
</span><span style="color:#888"></span>
<span style="color:#888">// çˆ¶ç±»ä½¿ç”¨å­ç±»çš„ species å£°æ˜
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">class</span> Foo {
	<span style="color:#080;font-weight:bold">static</span> get [Symbol.species]() { <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>; }
	spawn() {
		<span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#080;font-weight:bold">this</span>.constructor[Symbol.species]();
	}
}

<span style="color:#080;font-weight:bold">class</span> Bar <span style="color:#080;font-weight:bold">extends</span> Foo {
	<span style="color:#080;font-weight:bold">static</span> get [Symbol.species]() { <span style="color:#080;font-weight:bold">return</span> Foo; }
}

<span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Foo();
<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> a.spawn();
b <span style="color:#080;font-weight:bold">instanceof</span> Foo;					<span style="color:#888">// true
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Bar();
<span style="color:#080;font-weight:bold">var</span> y <span style="color:#333">=</span> x.spawn();
y <span style="color:#080;font-weight:bold">instanceof</span> Bar;					<span style="color:#888">// false
</span><span style="color:#888"></span>y <span style="color:#080;font-weight:bold">instanceof</span> Foo;					<span style="color:#888">// true
</span></code></pre></div>
<h2 id="å¼‚æ­¥æ§åˆ¶æµ">å¼‚æ­¥æ§åˆ¶æµ</h2>

<h3 id="promise">Promise</h3>

<p><code>Promise</code> åœ¨å›è°ƒå‡½æ•°å’Œå°†è¦æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„å¼‚æ­¥ä»£ç ä¹‹é—´æä¾›å¯é çš„ä¸­é—´æœºåˆ¶ç®¡ç†å›è°ƒã€‚</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> promise <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#007020">Promise</span>(<span style="color:#080;font-weight:bold">function</span> (resolve, reject){
  
});
</code></pre></div>
<h3 id="ç”Ÿæˆå™¨-promise">ç”Ÿæˆå™¨ + Promise</h3>

<p>å¾…å®Œå–„</p>

<h2 id="é›†åˆ">é›†åˆ</h2>

<h3 id="typedarray">TypedArray</h3>

<p>å¾…å®Œå–„&hellip;</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#888">// 256 ä½ buf ä¸Šæ˜ å°„çš„ä¸€ä¸ª 16 ä½æ— ç¬¦å·æ•´å‹çš„ç±»å‹æ•°ç»„
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> buf <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> ArrayBuffer(<span style="color:#00d;font-weight:bold">32</span>);
buf.byteLength;
<span style="color:#080;font-weight:bold">var</span> arr <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Uint16Array(buf);
arr.length;
</code></pre></div>
<h4 id="å¤§å°ç«¯-endianness">å¤§å°ç«¯ï¼ˆEndiannessï¼‰</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#888">// æ£€æµ‹æ–¹å¼
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> litteEndian <span style="color:#333">=</span> (<span style="color:#080;font-weight:bold">function</span>(){
  <span style="color:#080;font-weight:bold">var</span> buffer <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> ArrayBuffer(<span style="color:#00d;font-weight:bold">2</span>);
  <span style="color:#080;font-weight:bold">new</span> DataView(buffer).setInt16(<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">256</span>, <span style="color:#080;font-weight:bold">true</span>);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> Int16Array(buffer)[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> <span style="color:#080;font-weight:bold">true</span>;
})();
</code></pre></div>
<h3 id="map">Map</h3>

<p>å…è®¸ä½ æŠŠæŸäº›é¢å¤–çš„ä¿¡æ¯ï¼ˆå€¼ï¼‰å…³è”åˆ°ä¸€ä¸ªå¯¹è±¡ï¼ˆé”®ï¼‰ä¸Šï¼Œè€Œæ— éœ€æŠŠè¿™ä¸ªä¿¡æ¯æ”¾å…¥å¯¹è±¡æœ¬èº«ã€‚</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> m <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

m.set(x, <span style="background-color:#fff0f0">&#34;foo&#34;</span>); <span style="color:#888">// Map { { id: 1 } =&gt; &#39;foo&#39; }
</span><span style="color:#888"></span>m.set(y, <span style="background-color:#fff0f0">&#34;bar&#34;</span>); <span style="color:#888">// Map { { id: 1 } =&gt; &#39;foo&#39;, { id: 2 } =&gt; &#39;bar&#39; }
</span><span style="color:#888"></span>
m.get(x); <span style="color:#888">// &#39;foo&#39;
</span><span style="color:#888"></span>m.get(y); <span style="color:#888">// &#39;bar&#39;
</span><span style="color:#888"></span>m.size; <span style="color:#888">// 2
</span><span style="color:#888"></span>
m.<span style="color:#080;font-weight:bold">delete</span>(x); <span style="color:#888">// åˆ é™¤
</span><span style="color:#888"></span>m.clear(); <span style="color:#888">// æ¸…ç©º
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> n2 <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map(m.entries());
<span style="color:#888">// ç­‰ä»·
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> m2 <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map(m);

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};
<span style="color:#080;font-weight:bold">var</span> m <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map([[x,<span style="background-color:#fff0f0">&#34;foo&#34;</span>], [y, <span style="background-color:#fff0f0">&#34;bar&#34;</span>]]);
m.get(x); <span style="color:#888">// &#39;foo&#39;
</span><span style="color:#888"></span>m.get(y); <span style="color:#888">// &#39;bar&#39;
</span></code></pre></div>
<h4 id="å€¼">å€¼</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> m <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

m.set(x, <span style="background-color:#fff0f0">&#34;foo&#34;</span>);
m.set(y, <span style="background-color:#fff0f0">&#34;bar&#34;</span>);

<span style="color:#080;font-weight:bold">var</span> vals <span style="color:#333">=</span> [...m.values()];
vals; <span style="color:#888">// [&#39;foo&#39;, &#39;bar&#39;]
</span><span style="color:#888"></span><span style="color:#007020">Array</span>.from(m.values()); <span style="color:#888">// [&#39;foo&#39;, &#39;bar&#39;]
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> vals2 <span style="color:#333">=</span> [...m.entries()];
vals2[<span style="color:#00d;font-weight:bold">0</span>][<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> x; <span style="color:#888">// true
</span><span style="color:#888"></span>vals2[<span style="color:#00d;font-weight:bold">0</span>][<span style="color:#00d;font-weight:bold">1</span>]; <span style="color:#888">// &#39;foo&#39;
</span></code></pre></div>
<h4 id="é”®">é”®</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> m <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Map();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

m.set(x, <span style="background-color:#fff0f0">&#34;foo&#34;</span>);
m.set(y, <span style="background-color:#fff0f0">&#34;bar&#34;</span>);

<span style="color:#080;font-weight:bold">var</span> keys <span style="color:#333">=</span> [...m.keys()];

keys[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> x; <span style="color:#888">// true
</span><span style="color:#888"></span>m.has(y); <span style="color:#888">// true
</span></code></pre></div>
<h4 id="weakmap">WeakMap</h4>

<p>WeakMap æ˜¯ mao çš„å˜ä½“ï¼ŒäºŒè€…çš„å¤šæ•°å¤–éƒ¨è¡Œä¸ºç‰¹å¾éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åœ¨äºå†…éƒ¨å†…å­˜åˆ†é…ï¼ˆGCï¼‰çš„å·¥ä½œæ–¹å¼ã€‚</p>

<p>æ²¡æœ‰ size å±æ€§å’Œ clear æ–¹æ³•ï¼Œä¹Ÿä¸æš´éœ²ä»»ä½•é”®ã€å€¼æˆ–é¡¹ç›®ä¸Šçš„è¿­ä»£å™¨</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> m <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> WeakMap();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

m.set(x, <span style="background-color:#fff0f0">&#34;foo&#34;</span>); <span style="color:#888">// WeakMap { [items unknown] }
</span><span style="color:#888"></span>m.set(y, <span style="background-color:#fff0f0">&#34;bar&#34;</span>); <span style="color:#888">// WeakMap { [items unknown] }
</span><span style="color:#888"></span>
m.has(x);
m.size; <span style="color:#888">// undefined
</span><span style="color:#888"></span>m.clear; <span style="color:#888">// undefined
</span></code></pre></div>
<h4 id="set">Set</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> s <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Set();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

s.add(x);
s.add(y);
s.add(x);

s.size; <span style="color:#888">// 2
</span><span style="color:#888"></span>s.<span style="color:#080;font-weight:bold">delete</span>(y); <span style="color:#888">// true
</span><span style="color:#888"></span>s.size; <span style="color:#888">// 1
</span><span style="color:#888"></span>s.clear(); 
s.size; <span style="color:#888">// 0
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> s2 <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> Set([x, y]);
s2.has(x); <span style="color:#888">// false
</span><span style="color:#888"></span>
<span style="color:#888">// Set è¿­ä»£å™¨
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> keys <span style="color:#333">=</span> [...s2.keys()],
    vals <span style="color:#333">=</span> [...s2.values()],
    entries <span style="color:#333">=</span> [...s2.entries()];

keys[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> x; <span style="color:#888">// true
</span><span style="color:#888"></span>vals[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> x; <span style="color:#888">// true
</span><span style="color:#888"></span>
entries[<span style="color:#00d;font-weight:bold">0</span>][<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">===</span> x; <span style="color:#888">// true
</span></code></pre></div>
<h4 id="weakset">WeakSet</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> s <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">new</span> WeakSet();

<span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    y <span style="color:#333">=</span> {id<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>};

s.add(x);
s.add(y);

x <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">null</span>; <span style="color:#888">// x å¯ GC
</span></code></pre></div>
<h2 id="æ–°å¢-api">æ–°å¢ API</h2>

<h3 id="array">Array</h3>

<h4 id="é™æ€å‡½æ•°-array-of">é™æ€å‡½æ•° Array.of</h4>

<p>ä½¿ç”¨åœºæ™¯ï¼š</p>

<ul>
<li>å›è°ƒå‡½æ•°éœ€è¦ä¼ å…¥çš„å‚æ•°å°è£…ä¸ºæ•°ç»„</li>
<li>æ„å»º Array å­ç±»ï¼Œå¹¶ä¸”æƒ³è¦ä½ çš„å­ç±»å®ä¾‹ä¸­åˆ›å»ºå’Œåˆå§‹åŒ–å…ƒç´ </li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#007020">Array</span>(<span style="color:#00d;font-weight:bold">3</span>);
a.length;

<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> <span style="color:#007020">Array</span>.<span style="color:#080;font-weight:bold">of</span>(<span style="color:#00d;font-weight:bold">3</span>);
b.length;
b[<span style="color:#00d;font-weight:bold">0</span>];

<span style="color:#080;font-weight:bold">var</span> c <span style="color:#333">=</span> <span style="color:#007020">Array</span>.<span style="color:#080;font-weight:bold">of</span>(<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>);
c.length; 
c;

<span style="color:#080;font-weight:bold">class</span> MyCoolArray <span style="color:#080;font-weight:bold">extends</span> <span style="color:#007020">Array</span>{
  sum(){
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">this</span>.reduce(<span style="color:#080;font-weight:bold">function</span> reduceer(acc, curr){
      <span style="color:#080;font-weight:bold">return</span> acc <span style="color:#333">+</span> curr;
    }, <span style="color:#00d;font-weight:bold">0</span>);
  }
}
<span style="color:#080;font-weight:bold">var</span> z <span style="color:#333">=</span>  MyCoolArray.<span style="color:#080;font-weight:bold">of</span>(<span style="color:#00d;font-weight:bold">3</span>);
z.length;
z.sum();
</code></pre></div>
<h4 id="é™æ€å‡½æ•°-array-from">é™æ€å‡½æ•° Array.from</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#007020">Array</span>(<span style="color:#00d;font-weight:bold">4</span>); <span style="color:#888">// 4 ä¸ªç©ºæ§½ä½
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> <span style="color:#007020">Array</span>.apply(<span style="color:#080;font-weight:bold">null</span>, {length<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">4</span>}); <span style="color:#888">//  4 ä¸ª undefined å€¼
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> c <span style="color:#333">=</span> <span style="color:#007020">Array</span>.from({length<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">4</span>}); <span style="color:#888">// 4 ä¸ª undefined å€¼
</span><span style="color:#888"></span>
<span style="color:#888">// æ˜ å°„
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> arrLike <span style="color:#333">=</span> {
  length<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">4</span>,
  <span style="color:#00d;font-weight:bold">2</span><span style="color:#333">:</span> <span style="background-color:#fff0f0">&#34;foo&#34;</span>
};
<span style="color:#007020">Array</span>.from(arrLike, <span style="color:#080;font-weight:bold">function</span> mapper(val, idx){
  <span style="color:#080;font-weight:bold">if</span>(<span style="color:#080;font-weight:bold">typeof</span> val <span style="color:#333">===</span> <span style="background-color:#fff0f0">&#34;string&#34;</span>){
    <span style="color:#080;font-weight:bold">return</span> val.toUpperCase();
  }<span style="color:#080;font-weight:bold">else</span>{
    <span style="color:#080;font-weight:bold">return</span> idx;
  }
});
</code></pre></div>
<h4 id="åŸå‹æ–¹æ³•-copywithin">åŸå‹æ–¹æ³• copyWithin</h4>

<p>target(å¤åˆ¶çš„ç´¢å¼•)ã€startï¼ˆå¼€å§‹å¤åˆ¶çš„åŸç´¢å¼•ï¼‰å’Œå¯é€‰çš„ endï¼ˆå¤åˆ¶ç»“æŸçš„ç´¢å¼•ï¼‰</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>].copyWithin(<span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">0</span>); <span style="color:#888">// [ 1, 2, 3, 1, 2 ]
</span><span style="color:#888"></span>[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>].copyWithin(<span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// [ 1, 2, 3, 1, 5 ]
</span><span style="color:#888"></span>[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>].copyWithin(<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">2</span>); <span style="color:#888">// [ 4, 5, 3, 4, 5 ]
</span><span style="color:#888"></span>[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>].copyWithin(<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">2</span>, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// [ 4, 2, 3, 4, 5 ]
</span><span style="color:#888">// å¤åˆ¶ç®—æ³•çš„åå‘è¿›è¡Œ
</span><span style="color:#888">// 4 -&gt; 5, 3 -&gt; 4, 2 -&gt; 3
</span><span style="color:#888"></span>[<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>, <span style="color:#00d;font-weight:bold">4</span>, <span style="color:#00d;font-weight:bold">5</span>].copyWithin(<span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// [ 1, 2, 2, 3, 4 ]
</span></code></pre></div>
<h4 id="åŸå‹æ–¹æ³•-fill">åŸå‹æ–¹æ³• fill</h4>

<p>startå’Œendæ ‡è¯†(è¦å¡«å……å­é›†çš„ä½ç½®)</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#007020">Array</span>(<span style="color:#00d;font-weight:bold">4</span>).fill(<span style="color:#080;font-weight:bold">undefined</span>);
a; <span style="color:#888">// [ undefined, undefined, undefined, undefined ]
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> b <span style="color:#333">=</span> [<span style="color:#080;font-weight:bold">null</span>, <span style="color:#080;font-weight:bold">null</span>, <span style="color:#080;font-weight:bold">null</span>, <span style="color:#080;font-weight:bold">null</span>].fill(<span style="color:#00d;font-weight:bold">42</span>, <span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">3</span>);
b; <span style="color:#888">// [ null, 42, 42, null ]
</span></code></pre></div>
<h4 id="åŸå‹æ–¹æ³•-find">åŸå‹æ–¹æ³• find</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> points <span style="color:#333">=</span> [
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">10</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">20</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">20</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">30</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">30</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">40</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">50</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">60</span>}
];

points.find(<span style="color:#080;font-weight:bold">function</span> match(point){
  <span style="color:#080;font-weight:bold">return</span> (
    point.x <span style="color:#333">%</span> <span style="color:#00d;font-weight:bold">3</span> <span style="color:#333">==</span> <span style="color:#00d;font-weight:bold">0</span> <span style="color:#333">&amp;&amp;</span> point.y <span style="color:#333">%</span> <span style="color:#00d;font-weight:bold">4</span> <span style="color:#333">==</span> <span style="color:#00d;font-weight:bold">0</span>
  )
})
<span style="color:#888">// { x: 30, y: 40 }
</span></code></pre></div>
<h4 id="åŸå‹æ–¹æ³•-findindex">åŸå‹æ–¹æ³• findIndex</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> points <span style="color:#333">=</span> [
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">10</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">20</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">20</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">30</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">30</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">40</span>},
  {x<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">50</span>, y<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">60</span>}
];

points.findIndex(<span style="color:#080;font-weight:bold">function</span> match(point){
  <span style="color:#080;font-weight:bold">return</span> (
    point.x <span style="color:#333">%</span> <span style="color:#00d;font-weight:bold">3</span> <span style="color:#333">==</span> <span style="color:#00d;font-weight:bold">0</span> <span style="color:#333">&amp;&amp;</span> point.y <span style="color:#333">%</span> <span style="color:#00d;font-weight:bold">4</span> <span style="color:#333">==</span> <span style="color:#00d;font-weight:bold">0</span>
  )
})
<span style="color:#888">// 2
</span></code></pre></div>
<h4 id="åŸå‹æ–¹æ³•-entries-values-å’Œ-keys">åŸå‹æ–¹æ³• entriesã€values å’Œ keys</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">3</span>];
[...a.values()]; <span style="color:#888">// [ 1, 2, 3 ]
</span><span style="color:#888"></span>[...a.keys()]; <span style="color:#888">// [ 0, 1, 2 ]
</span><span style="color:#888"></span>[...a.entries()]; <span style="color:#888">// [ [ 0, 1 ], [ 1, 2 ], [ 2, 3 ] ]
</span></code></pre></div>
<h3 id="object">Object</h3>

<h4 id="é™æ€å‡½æ•°-object-is">é™æ€å‡½æ•° Object.is</h4>

<p>SameValue ç®—æ³•ï¼Œä¸æ¯”è¾ƒ <code>====</code>ç®—æ³•</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">NaN</span>, y <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">0</span>, z <span style="color:#333">=</span> <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">0</span>;
x <span style="color:#333">===</span> x; <span style="color:#888">// false
</span><span style="color:#888"></span>y <span style="color:#333">===</span> z; <span style="color:#888">// true
</span><span style="color:#888"></span>
<span style="color:#007020">Object</span>.is(x, x); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Object</span>.is(y, x); <span style="color:#888">// false
</span></code></pre></div>
<h4 id="é™æ€å‡½æ•°-object-getownpropertysymbols">é™æ€å‡½æ•° Object.getOwnPropertySymbols</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o <span style="color:#333">=</span> {
  foo<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">42</span>,
  [Symbol(<span style="background-color:#fff0f0">&#34;bar&#34;</span>)]<span style="color:#333">:</span> <span style="background-color:#fff0f0">&#34;hello world&#34;</span>,
  baz<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>
};
<span style="color:#007020">Object</span>.getOwnPropertySymbols(o);
</code></pre></div>
<h4 id="é™æ€å‡½æ•°-object-setprototypeof">é™æ€å‡½æ•° Object.setPrototypeOf</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> o1 <span style="color:#333">=</span> {
  foo() {console.log(<span style="background-color:#fff0f0">&#34;foo&#34;</span>);}
};
<span style="color:#080;font-weight:bold">var</span> o2 <span style="color:#333">=</span> {};
<span style="color:#007020">Object</span>.setPrototypeOf(o2, o1); <span style="color:#888">// {}
</span><span style="color:#888"></span>o2.foo(); <span style="color:#888">// &#39;foo&#39;
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> o3 <span style="color:#333">=</span> <span style="color:#007020">Object</span>.setPrototypeOf({}, o1); <span style="color:#888">// {}
</span><span style="color:#888"></span>o3.foo; <span style="color:#888">// &#39;foo&#39;
</span></code></pre></div>
<h4 id="é™æ€å‡½æ•°-object-assign">é™æ€å‡½æ•° Object.assign</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> target <span style="color:#333">=</span> {},
    o1 <span style="color:#333">=</span> {a<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">1</span>},
    o2 <span style="color:#333">=</span> {b<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">2</span>},
    o3 <span style="color:#333">=</span> {c<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">3</span>},
    o4 <span style="color:#333">=</span> {d<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">4</span>};

<span style="color:#007020">Object</span>.defineProperty(o3, <span style="background-color:#fff0f0">&#34;e&#34;</span>, {
  value<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">5</span>,
  enumerable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">true</span>,
  writable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>,
  configurable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>
})
<span style="color:#007020">Object</span>.defineProperty(o3, <span style="background-color:#fff0f0">&#34;f&#34;</span>, {
  value<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">6</span>,
  enumerable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>
});
o3[Symbol(<span style="background-color:#fff0f0">&#34;g&#34;</span>)] <span style="color:#333">=</span>  <span style="color:#00d;font-weight:bold">7</span>;
<span style="color:#007020">Object</span>.defineProperty(o3, Symbol(<span style="background-color:#fff0f0">&#34;h&#34;</span>), {
  value<span style="color:#333">:</span> <span style="color:#00d;font-weight:bold">8</span>,
  enumerable<span style="color:#333">:</span> <span style="color:#080;font-weight:bold">false</span>
});

<span style="color:#007020">Object</span>.setPrototypeOf(o3, o4);
<span style="color:#007020">Object</span>.assign(target, o1, o2, o3); <span style="color:#888">// { a: 1, b: 2, c: 3, e: 5, [Symbol(g)]: 7 }
</span><span style="color:#888"></span><span style="color:#007020">Object</span>.getOwnPropertyDescriptor(target, <span style="background-color:#fff0f0">&#34;e&#34;</span>); 
<span style="color:#888">// { value: 5, writable: true, enumerable: true, configurable: true }
</span><span style="color:#888"></span><span style="color:#007020">Object</span>.getOwnPropertySymbols(target); <span style="color:#888">// [ Symbol(g) ]
</span></code></pre></div>
<h3 id="math">Math</h3>

<ul>
<li>ä¸‰è§’å‡½æ•°ï¼š

<ul>
<li>åŒä½™å¼¦å‡½æ•° - cosh</li>
<li>åŒæ›²åä½™å¼¦å‡½æ•° - acosh</li>
<li>åŒæ›²æ­£å¼¦å‡½æ•° - sinh</li>
<li>åŒæ›²åæ­£å¼¦å‡½æ•° - asinh</li>
<li>åŒæ›²æ­£åˆ‡å‡½æ•° - tanh</li>
<li>åŒæ›²åæ­£åˆ‡å‡½æ•° - atanh</li>
<li>å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ hypot</li>
</ul></li>
<li>ç®—æœ¯

<ul>
<li>ç«‹æ–¹æ ¹ - cbrt</li>
<li>è®¡ç®— 32 ä½äºŒè¿›åˆ¶è¡¨ç¤ºçš„å‰å¯¼ 0 çš„ä¸ªæ•°</li>
<li>ç­‰ä»·äº exp(x)-1 - expm1</li>
<li>äºŒè¿›åˆ¶å¯¹æ•° - log2</li>
<li>ä»¥ 10 ä¸ºåº•çš„å¯¹æ•° - log10</li>
<li>ç­‰ä»·äº log(x + 1) - log1p</li>
<li>ä¸¤ä¸ªæ•°å­—çš„ 32 ä½æ•´æ•°ä¹˜æ³• - imul</li>
</ul></li>
<li>å…ƒå·¥å…·

<ul>
<li>è¿”å›æ•°å­—ç¬¦å· - sign</li>
<li>è¿”å›æ•°å­—çš„æ•´æ•°éƒ¨åˆ† - trunc</li>
<li>å‘æœ€æ¥è¿‘çš„ 32 ä½ï¼ˆå•ç²¾åº¦ï¼‰æµ®ç‚¹æ•°å–æ•´ - fround
<br /></li>
</ul></li>
</ul>

<h3 id="number">Number</h3>

<h4 id="é™æ€å±æ€§">é™æ€å±æ€§</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#007020">Number</span>.EPSILON <span style="color:#888">// ä»»æ„ä¸¤ä¸ªæ•°å­—ä¹‹é—´çš„æœ€å°å€¼
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.MAX_SAFE_INTEGER <span style="color:#888">// æœ€å¤§æ•´æ•°
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.MIN_SAFE_INTEGER <span style="color:#888">// æœ€å°æ•´æ•°
</span></code></pre></div>
<h4 id="é™æ€å‡½æ•°-number-isnan">é™æ€å‡½æ•° Number.isNaN</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">NaN</span>, b <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;NaN&#34;</span>, c <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>;
<span style="color:#007020">isNaN</span>(a);  <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">isNaN</span>(b); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">isNaN</span>(c); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isNaN</span>(a); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isNaN</span>(b); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isNaN</span>(c); <span style="color:#888">// false
</span></code></pre></div>
<h4 id="é™æ€å‡½æ•°-number-isfinite">é™æ€å‡½æ•° Number.isFinite</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> a <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">NaN</span>, b <span style="color:#333">=</span> <span style="color:#080;font-weight:bold">Infinity</span>, c <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">42</span>;
<span style="color:#007020">Number</span>.<span style="color:#007020">isFinite</span>(a); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isFinite</span>(b); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isFinite</span>(c); <span style="color:#888">// true
</span><span style="color:#888"></span>
<span style="color:#080;font-weight:bold">var</span> d <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;42&#34;</span>;
<span style="color:#007020">isFinite</span>(d); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isFinite</span>(a); <span style="color:#888">// false
</span></code></pre></div>
<h4 id="æ•´å‹ç›¸å…³é™æ€å‡½æ•°">æ•´å‹ç›¸å…³é™æ€å‡½æ•°</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#007020">Number</span>.isInteger(<span style="color:#00d;font-weight:bold">4</span>); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.isInteger(<span style="color:#60e;font-weight:bold">4.2</span>); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> x <span style="color:#333">=</span> <span style="color:#007020">Math</span>.pow(<span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">53</span>),
    y <span style="color:#333">=</span> <span style="color:#007020">Math</span>.pow(<span style="color:#333">-</span><span style="color:#00d;font-weight:bold">2</span>, <span style="color:#00d;font-weight:bold">53</span>);

<span style="color:#007020">Number</span>.<span style="color:#007020">isSafeInteger</span>(x <span style="color:#333">-</span> <span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isSafeInteger</span>(y <span style="color:#333">+</span> <span style="color:#00d;font-weight:bold">1</span>); <span style="color:#888">// true
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isSafeInteger</span>(x); <span style="color:#888">// false
</span><span style="color:#888"></span><span style="color:#007020">Number</span>.<span style="color:#007020">isSafeInteger</span>(y); <span style="color:#888">// false
</span></code></pre></div>
<h3 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h3>

<h4 id="unicode-å‡½æ•°">Unicode å‡½æ•°</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#007020">String</span>.fromCodePoint(<span style="color:#058;font-weight:bold">0x1d49e</span>); <span style="color:#888">// &#39;ğ’&#39;
</span><span style="color:#888"></span><span style="background-color:#fff0f0">&#34;abğ’d&#34;</span>.codePointAt(<span style="color:#00d;font-weight:bold">2</span>).toString(<span style="color:#00d;font-weight:bold">16</span>);
<span style="color:#080;font-weight:bold">var</span> s1 <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;e\u0301&#34;</span>;
s1.length; <span style="color:#888">// 2
</span><span style="color:#888"></span><span style="color:#080;font-weight:bold">var</span> s2 <span style="color:#333">=</span> s1.normalize(); 
s2.length; <span style="color:#888">// 1
</span><span style="color:#888"></span>s2 <span style="color:#333">===</span> <span style="background-color:#fff0f0">&#34;\xE9&#34;</span>; <span style="color:#888">// true
</span></code></pre></div>
<h4 id="é™æ€å‡½æ•°-string-raw">é™æ€å‡½æ•° String.raw</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> str <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;bc&#34;</span>;
<span style="color:#007020">String</span>.raw<span style="background-color:#fff0f0">`</span><span style="color:#f00;background-color:#faa">\</span><span style="background-color:#fff0f0">ta$(str)d</span><span style="color:#f00;background-color:#faa">\</span><span style="background-color:#fff0f0">xE9`</span>; <span style="color:#888">// &#39;\ta$(str)d\xE9&#39;
</span></code></pre></div>
<h4 id="åŸå‹å‡½æ•°-repeat">åŸå‹å‡½æ•° repeat</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="background-color:#fff0f0">&#34;foo&#34;</span>.repeat(<span style="color:#00d;font-weight:bold">3</span>); <span style="color:#888">// &#34;foofoofoo&#34;
</span></code></pre></div>
<h4 id="å­—ç¬¦ä¸²æ£€æŸ¥å‡½æ•°">å­—ç¬¦ä¸²æ£€æŸ¥å‡½æ•°</h4>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#080;font-weight:bold">var</span> palindome <span style="color:#333">=</span> <span style="background-color:#fff0f0">&#34;step on no pets&#34;</span>;
palindome.startsWith(<span style="background-color:#fff0f0">&#34;step on&#34;</span>); <span style="color:#888">// true
</span><span style="color:#888"></span>palindome.startsWith(<span style="background-color:#fff0f0">&#34;on&#34;</span>, <span style="color:#00d;font-weight:bold">5</span>); <span style="color:#888">// true
</span><span style="color:#888"></span>palindome.endsWith(<span style="background-color:#fff0f0">&#34;no pets&#34;</span>); <span style="color:#888">// true
</span><span style="color:#888"></span>palindome.endsWith(<span style="background-color:#fff0f0">&#34;no pets&#34;</span>, <span style="color:#00d;font-weight:bold">10</span>); <span style="color:#888">// false
</span><span style="color:#888"></span>palindome.includes(<span style="background-color:#fff0f0">&#34;on&#34;</span>); <span style="color:#888">// true
</span><span style="color:#888"></span>palindome.includes(<span style="background-color:#fff0f0">&#34;on&#34;</span>, <span style="color:#00d;font-weight:bold">6</span>); <span style="color:#888">// false
</span></code></pre></div>

    <script>
        let colNum = document.querySelector("#sheet_column").innerText;
        const sheetBox = document.body.querySelector("#sheet_box");
        let eleList = [];
        Array.prototype.max = function () {
            return Math.max.apply(null, this);
        };
        Array.prototype.minindex = function (col) {
            let _index = 0,
                min = this[0];
            for (var i = 1; i < col; i++) {
                if (min > this[i]) {
                    min = this[i];
                    _index = i;
                }
            }
            return _index;
        };


        for (let key in sheetBox.children) {
            eleList.push(sheetBox.children[key]);
        }
        let _section, _wrap, _x = 0,
            _y = 0;
        eleList.forEach(ele => {
            if (ele.localName === "h2") {
                _section = document.createElement("div");
                _wrap = document.createElement("div");
                _wrap.className = "h3_wrap";
                _section.className = "h2_section";
                _section.appendChild(ele);
                sheetBox.appendChild(_section);
                sheetBox.appendChild(_wrap);
                _x = 0;
                _y = 0;
            }
            if (ele.localName === "h3") {
                _section = document.createElement("div");
                _section.className = "h3_section";
                if (!_wrap) {
                    _wrap = document.createElement("div");
                    _wrap.className = "h3_wrap";
                }
                if (colNum === "2") {
                    _section.style.width = "49.4%";
                } else {
                    _section.style.width = "32.8%";
                }
                _section.appendChild(ele);
                _wrap.appendChild(_section);
            }
            if (_section && ele.localName && ele.localName !== "script") {
                _section.appendChild(ele);
            }
        });

        function layout(col, _onlyChangeWidth) {
            let _w = sheetBox.offsetWidth;
            const _tars = sheetBox.querySelectorAll(".h3_wrap");
            let _e_offset = _w * 1.012 / col;

            _tars.forEach(t => {
                let _hs = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                let es = [];
                let _h3_wrap_height = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                for (let key in t.children) {
                    if (t.children[key].localName) {
                        es.push(t.children[key]);
                    }
                }
                es.forEach((e, i) => {
                    let _colOrder = _hs.minindex(col);
                    e.style.left = _colOrder * _e_offset + 'px';
                    e.style.top = _hs[_colOrder] + 'px';
                    e.style.width = (_w - (col - 1) * _w * 0.012) / col + 'px';
                    _hs[_colOrder] += e.offsetHeight + 8;
                    _h3_wrap_height[_colOrder] += e.offsetHeight + 8;

                })
                t.style.height = _h3_wrap_height.max() + 'px';
            })
        }

        colNum = Number(colNum) ? Number(colNum) : 3;
        let _colCounter;
        if (window.innerWidth > 768) {
            _colCounter = colNum;
        } else if (window.innerWidth > 480) {
            _colCounter = colNum - 1 <= 0 ? colNum : colNum - 1;
        } else {
            _colCounter = colNum - 2 <= 0 ? colNum - 1 <= 0 ? colNum : colNum - 1 : colNum - 2;
        }
        layout(_colCounter);
        window.onresize = function () {
            let _cols;
            if (window.innerWidth >= 768) {
                _cols = colNum;
            } else if (window.innerWidth > 480) {
                _cols = colNum - 1 <= 0 ? colNum : colNum - 1;
            } else {
                _cols = colNum - 2 <= 0 ? colNum - 1 <= 0 ? colNum : colNum - 1 : colNum - 2;
            }
            layout(_cols);
        }
    </script>
</div>
</div>

    </main>

    <footer>
        
        
        
    </footer>

</body>

</html>